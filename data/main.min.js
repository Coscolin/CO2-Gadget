let co2Interval=15e3;let temperatureInterval=3e4;let humidityInterval=3e4;let co2Timer=setInterval(getCO2Data,co2Interval);let temperatureTimer=setInterval(getTemperatureData,temperatureInterval);let humidityTimer=setInterval(getHumidityData,humidityInterval);function setUpdateIntervals(newCO2Interval){co2Interval=newCO2Interval;clearInterval(co2Timer);clearInterval(temperatureTimer);clearInterval(humidityTimer);co2Timer=setInterval(getCO2Data,co2Interval);temperatureTimer=setInterval(getTemperatureData,temperatureInterval);humidityTimer=setInterval(getHumidityData,humidityInterval)}function getMeasurementInterval(){fetch("/getMeasurementInterval").then(response=>response.text()).then(data=>{console.log("CO2 Measurement Interval",data);let newCO2Interval=parseInt(data)*1e3;setUpdateIntervals(newCO2Interval)}).catch(error=>{console.error("Error fetching measurement interval",error)})}function getCO2Data(){fetch("/readCO2").then(response=>response.text()).then(data=>{let co2Value=parseFloat(data);document.querySelector("text#CO2Value").textContent=co2Value.toFixed(0)}).catch(error=>{console.error("Error fetching CO2 data",error)})}function getTemperatureData(){fetch("/readTemperature").then(response=>response.text()).then(data=>{let temperatureValue=parseFloat(data);document.querySelector("text#TempValue").textContent=temperatureValue.toFixed(1)}).catch(error=>{console.error("Error fetching temperature data",error)})}function getHumidityData(){fetch("/readHumidity").then(response=>response.text()).then(data=>{let humidityValue=parseFloat(data);document.querySelector("text#HumValue").textContent=humidityValue.toFixed(0)}).catch(error=>{console.error("Error fetching humidity data",error)})}document.addEventListener("DOMContentLoaded",function(){var currentFileName=window.location.pathname.split("/").pop();if(currentFileName==="index.html"||currentFileName===""){getCO2Data();getTemperatureData();getHumidityData();getMeasurementInterval()}});